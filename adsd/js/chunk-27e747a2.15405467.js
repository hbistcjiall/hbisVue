(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27e747a2"],{"079b":function(t,s,i){},"622d":function(t,s,i){"use strict";var e=i("079b");i.n(e).a},ee95:function(t,s,i){"use strict";i.r(s);var e={name:"zyphjh",data:function(){return{isA:!1,isB:!0,isC:!0,isD:!1,isE:!0,isF:!1,isH:!0,isI:!1,isJ:!0,isK:!1,isL:!0,isM:!1,loading:!0,loading1:!0,activeIndex:0,byValue:{type:""},columns1:[{title:"品种",align:"center",key:"NAME"},{title:"计划量",align:"center",key:"JSL"},{title:"品种钢",align:"center",key:"PZGL"},{title:"比例",align:"center",key:"BILI"}],columns2:[{title:"钢厂",align:"center",key:"COMPANYNAME"},{title:"计划量",align:"center",key:"JSL"},{title:"品种钢",align:"center",key:"PZGL"},{title:"比例",align:"center",key:"BILI"}],resDatas1:[],resDatas2:[],resDatas3:[],resDatas4:[],xhdata:[],option:{},column:{chart:{type:"column"},colors:["#386489","#3689cf"],title:{text:""},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"单位（吨）",align:"high"},labels:{overflow:"justify"}},plotOptions:{column:{dataLabels:{enabled:!0}}},credits:{enabled:!1},series:[{name:"现货（吨）",data:[]},{name:"计划量（吨）",data:[]}]},pieOption:{},pie:{chart:{type:"pie"},colors:["#75b9e6","#4aa3de","#c1e0ff","#77bbff","#33577b","#6ba6e0","#3d8ec4","#4fc1e9","#96bdd3","#73bbc4"],title:{text:""},subtitle:{text:""},tooltip:{percentageDecimals:2,headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.b:.2f}%</b><br/>'},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y:.2f}吨"}}},credits:{enabled:!1},series:[{name:"百分比",data:[]}]}}},components:{XChart:i("e9b1").a},mounted:function(){this.handleListApproveHistory(),this.TableData()},methods:{handleListApproveHistory:function(){var t=this;fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanone",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(s){if(200==s.status)return s.text();t.$Message.error("请求失败！")}).then(function(s){s=s&&0<s.length?JSON.parse(s):[],t.resDatas1=s;for(var i=[],e=1;e<s.length;e++)i.push({name:s[e].COMPANYNAME,y:s[e].ZYFKIMG,b:s[e].BILI});t.pie.series[0].data=i,t.pie.subtitle.text='<span style="font-size:14px;color:black;font-weight: bold">'+s[0].COMPANYNAME+":"+s[0].ZYFKIMG+"吨</span>",t.pieOption=t.pie}),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplantwo",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(s){if(200==s.status)return s.text();t.$Message.error("请求失败！")}).then(function(s){s=s&&0<s.length?JSON.parse(s):[],t.resDatas2=s;for(var i=[],e=[],a=[],n=0;n<s.length;n++)e.push(s[n].JH),i.push(s[n].XH),a.push(s[n].COMPANYNAME);t.column.series[1].data=e,t.column.series[0].data=i,t.column.xAxis.categories=a,t.option=t.column})},TableData:function(){var t=this;fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanthrid",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(s){if(200==s.status)return s.text();t.$Message.error("请求失败！")}).then(function(s){s=s&&0<s.length?JSON.parse(s):[],t.resDatas3=s;for(var i=0;i<t.resDatas3.length;i++)t.resDatas3[i].BILI=t.resDatas3[i].BILI+"%";t.loading=!1}),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanfour",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(s){if(200==s.status)return s.text();t.$Message.error("请求失败！")}).then(function(s){s=s&&0<s.length?JSON.parse(s):[],t.resDatas4=s;for(var i=0;i<t.resDatas4.length;i++)t.resDatas4[i].BILI=t.resDatas4[i].BILI+"%";t.loading1=!1})},getAll:function(){this.option={},this.pieOption={},this.isA=!1,this.isB=!0,this.isC=!0,this.isD=!1,this.isE=!0,this.isF=!1,this.isH=!0,this.isI=!1,this.isJ=!0,this.isK=!1,this.isL=!0,this.isM=!1,this.byValue.type="",this.handleListApproveHistory(),this.TableData()},getRb:function(){this.option={},this.pieOption={},this.isA=!0,this.isB=!1,this.isC=!1,this.isD=!0,this.isE=!0,this.isF=!1,this.isH=!0,this.isI=!1,this.isJ=!0,this.isK=!1,this.isL=!0,this.isM=!1,this.byValue.type="热板",this.handleListApproveHistory()},getLb:function(){this.option={},this.pieOption={},this.isA=!0,this.isB=!1,this.isC=!0,this.isD=!1,this.isE=!1,this.isF=!0,this.isH=!0,this.isI=!1,this.isJ=!0,this.isK=!1,this.isL=!0,this.isM=!1,this.byValue.type="冷板",this.handleListApproveHistory()},getKhb:function(){this.option={},this.pieOption={},this.isA=!0,this.isB=!1,this.isC=!0,this.isD=!1,this.isE=!0,this.isF=!1,this.isH=!1,this.isI=!0,this.isJ=!0,this.isK=!1,this.isL=!0,this.isM=!1,this.byValue.type="宽厚板",this.handleListApproveHistory()},getXd:function(){this.option={},this.pieOption={},this.isA=!0,this.isB=!1,this.isC=!0,this.isD=!1,this.isE=!0,this.isF=!1,this.isH=!0,this.isI=!1,this.isJ=!0,this.isK=!1,this.isL=!1,this.isM=!0,this.byValue.type="型带",this.handleListApproveHistory()},getBx:function(){this.option={},this.pieOption={},this.isA=!0,this.isB=!1,this.isC=!0,this.isD=!1,this.isE=!0,this.isF=!1,this.isH=!0,this.isI=!1,this.isJ=!1,this.isK=!0,this.isL=!0,this.isM=!1,this.byValue.type="棒线",this.handleListApproveHistory()}}},a=(i("622d"),i("2877")),n=Object(a.a)(e,function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticStyle:{margin:"0px auto",width:"600px","margin-bottom":"20px",height:"30px"}},[i("div",{class:{"class-a":t.isA,"class-b":t.isB},on:{click:t.getAll}},[t._v("全部")]),i("div",{class:{"class-c":t.isC,"class-d":t.isD},staticStyle:{"margin-left":"9px"},on:{click:t.getRb}},[t._v("热板")]),i("div",{class:{"class-e":t.isE,"class-f":t.isF},staticStyle:{"margin-left":"9px"},on:{click:t.getLb}},[t._v("冷板")]),i("div",{class:{"class-h":t.isH,"class-i":t.isI},staticStyle:{"margin-left":"9px"},on:{click:t.getKhb}},[t._v("宽厚板")]),i("div",{class:{"class-j":t.isJ,"class-k":t.isK},staticStyle:{"margin-left":"9px"},on:{click:t.getBx}},[t._v("棒线")]),i("div",{class:{"class-l":t.isL,"class-m":t.isM},staticStyle:{"margin-left":"9px"},on:{click:t.getXd}},[t._v("型带")])]),i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"LeftImg"},[i("div",{staticClass:"chartTitleStyle"},[t._v("销售组织")]),i("x-chart",{attrs:{id:"all_pieValue",option:t.pieOption}})],1),i("div",{staticClass:"RigtImg"},[i("div",{staticClass:"chartTitleStyle"},[t._v("钢厂")]),i("x-chart",{attrs:{id:"all_columnValue",option:t.option}})],1)]),i("div",[i("div",{staticClass:"LeftImg"},[i("Table",{staticStyle:{"margin-top":"20px"},attrs:{loading:t.loading,border:"",stripe:"",columns:t.columns1,data:t.resDatas3,id:"allTable1"},scopedSlots:t._u([{key:"name",fn:function(s){var e=s.row;return[i("strong",[t._v(t._s(e.name))])]}}])})],1),i("div",{staticClass:"RigtImg"},[i("Table",{staticStyle:{"margin-top":"20px"},attrs:{loading:t.loading1,border:"",stripe:"",columns:t.columns2,data:t.resDatas4,id:"allTable2"},scopedSlots:t._u([{key:"name",fn:function(s){var e=s.row;return[i("strong",[t._v(t._s(e.name))])]}}])})],1)])])},[],!1,null,"4fdbf188",null);s.default=n.exports}}]);