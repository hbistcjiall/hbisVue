(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-66ccc5fc"],{"8d53":function(e,t,n){"use strict";n.r(t),n("6b54"),n("c5f6");var r={name:"cxhtjdcx",data:function(){return{loading:!0,cx:[],startTime:new Date,dw:[],cxData:[],cxCx:{pz:""},columns:[{title:"单位",key:"COMPANYID",align:"center",width:100},{title:"产线",key:"DNAME",align:"center",width:100},{title:"合计",key:"nmzl",align:"center",width:100,children:[{title:"计划量",key:"HJJHL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"合同量",key:"HJHTL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"完成比例",key:"SCHEDULEHJ",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2)+"%")}}]},{title:"销售总公司",key:"zygs",align:"center",children:[{title:"计划量",key:"PLANNUMXSZ",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"专业公司",key:"ZYGSHTL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"分公司",key:"ZYFGSHTL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"完成比例",key:"SCHEDULEXSZ",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2)+"%")}},{title:"进度",key:"JDXSZ",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}}]},{title:"子公司（技术中心、事业部）",key:"fgs",align:"center",children:[{title:"计划量",key:"PLANNUMZGS",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"合同量",key:"ZGSHTL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"完成比例",key:"SCHEDULEZGS",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2)+"%")}},{title:"进度",key:"JDZGS",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}}]},{title:"出口",key:"fgs",align:"center",children:[{title:"计划量",key:"CKJHL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"合同量",key:"CKHTL",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}},{title:"完成比例",key:"SCHEDULECK",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2)+"%")}},{title:"进度",key:"JDCK",align:"center",width:100,render:function(e,t){return t.row[t.column.key]=null==t.row[t.column.key]?"0.00":t.row[t.column.key],e("span",Number(t.row[t.column.key]).toFixed(2))}}]}],data:[]}},created:function(){this.getList(),this.getCxData()},methods:{getList:function(){var e=this;this.loading=!0;var t="cxName="+this.cx.toString(),n="companyId="+this.dw,r="startTime=";r+=this.utils.formatMonthStart(this.startTime),fetch(this.$store.state.fetchPath+"/scm-steel-settle/getcxhtjd",{method:"POST",headers:this.$store.state.fetchHeader,body:r+"&"+t+"&"+n,credentials:"include"}).then(function(t){if(200==t.status)return t.text();e.$Message.error("请求失败！")}).then(function(t){t=t&&0<t.length?JSON.parse(t):[],e.data=t,e.loading=!1})},getCxData:function(){var e=this;fetch(this.$store.state.fetchPath+"/scm-steel-settle/getzyjhcxtjcx",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.cxCx),credentials:"include"}).then(function(t){if(200==t.status)return t.text();e.$Message.error("请求失败！")}).then(function(t){t=t&&0<t.length?JSON.parse(t):[],e.cxData=e.utils.getCx(t),e.cxData.unshift({label:"全部",value:""})})},downLoad:function(){this.$refs.table.exportCsv({filename:"产线合同进度（产线）明细"})}}},o=(n("a36e"),n("2877")),l=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Form",{attrs:{"label-width":70}},[n("Row",[n("Col",{attrs:{span:"4"}},[n("FormItem",{attrs:{label:"单位："}},[n("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择单位",filterable:""},model:{value:e.dw,callback:function(t){e.dw=t},expression:"dw"}},[n("Option",{attrs:{value:""}},[e._v("全部")]),n("Option",{attrs:{value:"9580"}},[e._v("河钢唐钢")]),n("Option",{attrs:{value:"9727"}},[e._v("河钢邯钢")]),n("Option",{attrs:{value:"9193"}},[e._v("河钢宣钢")]),n("Option",{attrs:{value:"9196"}},[e._v("河钢承钢")]),n("Option",{attrs:{value:"1932"}},[e._v("河钢舞钢")]),n("Option",{attrs:{value:"8110"}},[e._v("河钢石钢")]),n("Option",{attrs:{value:"8493"}},[e._v("河钢衡板")])],1)],1)],1),n("Col",{attrs:{span:"4"}},[n("FormItem",{attrs:{label:"产线："}},[n("Select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择产线",filterable:"",multiple:""},model:{value:e.cx,callback:function(t){e.cx=t},expression:"cx"}},e._l(e.cxData,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),n("Col",{attrs:{span:"4"}},[n("FormItem",{staticStyle:{"margin-left":"170px"},attrs:{label:"月份："}},[n("DatePicker",{staticStyle:{width:"130px"},attrs:{type:"month",placeholder:"起始月份",editable:!1,clearable:!1},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)],1),n("Col",{attrs:{span:"4"}},[n("span",[e._v(" ")])]),n("Col",{attrs:{span:"4"}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"ios-search"},on:{click:function(t){return e.getList()}}},[e._v("查询")]),n("Button",{attrs:{icon:"ios-cloud-download-outline"},on:{click:function(t){return e.downLoad()}}},[e._v("导出")])],1)],1)],1),n("Table",{ref:"table",attrs:{loading:e.loading,columns:e.columns,data:e.data,border:"",height:"500"}})],1)},[],!1,null,"51ac2462",null);t.default=l.exports},a36e:function(e,t,n){"use strict";var r=n("f6e9");n.n(r).a},f6e9:function(e,t,n){}}]);