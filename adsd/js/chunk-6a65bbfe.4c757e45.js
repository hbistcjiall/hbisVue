(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6a65bbfe"],{"8a88":function(t,e,i){},"8cb4":function(t,e,i){"use strict";i.r(e),i("c5f6");var a={name:"pzgjs_zrzt",data:function(){return{loading:!0,switchTime:!0,year:new Date,startTime:new Date,titleYear:"",titleMonth:"",endTime:new Date,zrbm:"",columns:[{title:"责任部门",key:"COMPANYNAME",align:"center"},{title:"",key:"nmjs",align:"center",children:[{title:"总量",key:"FKIMG",align:"center",render:function(t,e){return e.row[e.column.key]=null==e.row[e.column.key]?"0.00":e.row[e.column.key],t("span",Number(e.row[e.column.key]).toFixed(2))}},{title:"品种钢量",key:"PZGL",align:"center",render:function(t,e){return e.row[e.column.key]=null==e.row[e.column.key]?"0.00":e.row[e.column.key],t("span",Number(e.row[e.column.key]).toFixed(2))}},{title:"比重",key:"BZ",align:"center",render:function(t,e){return e.row[e.column.key]=null==e.row[e.column.key]?"0.00":e.row[e.column.key],t("span",(100*Number(e.row[e.column.key])).toFixed(2)+"%")}},{title:"目标量",key:"MBL",align:"center",render:function(t,e){return e.row[e.column.key]=null==e.row[e.column.key]?"0.00":e.row[e.column.key],t("span",Number(e.row[e.column.key]).toFixed(2))}},{title:"完成/目标",key:"WCBL",align:"center",render:function(t,e){return e.row[e.column.key]=null==e.row[e.column.key]?"0.00":e.row[e.column.key],t("span",Number(e.row[e.column.key]).toFixed(2)+"%")}}]}],data:[]}},mounted:function(){this.getList(),this.titleMonth=this.utils.formatMonthStart(this.startTime).substring(5,7),this.titleYear=this.utils.formatYearStart(this.startTime).substring(0,4),this.columns[1].title=this.titleYear+"年"+this.titleMonth+"月内贸结算"},methods:{changeSwitch:function(){var t=new Date;this.switchTime?(this.startTime=t,this.endTime=this.utils.formatMonthEnd()):this.year=t,1==this.switchTime?this.columns[1].title=this.titleYear+"年"+this.titleMonth+"月内贸结算":this.columns[1].title=this.titleYear+"年内贸结算"},getList:function(){var t=this;this.loading=!0;var e={};this.zrbm&&(e.zrbm=this.zrbm);var i="startTime=",a="&endTime=";this.switchTime?(i+=this.utils.formatMonthStart(this.startTime),a+=this.utils.formatMonthStart(this.endTime)):(i+=this.utils.formatYearStart(this.year),a+=this.utils.formatYearEnd(this.year)),this.titleMonth=this.utils.formatMonthStart(this.startTime).substring(5,7),this.titleYear=this.utils.formatYearStart(this.startTime).substring(0,4),1==this.switchTime?this.columns[1].title=this.titleYear+"年"+this.titleMonth+"月内贸结算":this.columns[1].title=this.titleYear+"年内贸结算",fetch(this.$store.state.fetchPath+"/scm-steel-settle/getzrbm",{method:"POST",headers:this.$store.state.fetchHeader,body:i+a+"&"+this.utils.formatParams(e),credentials:"include"}).then(function(e){return 200!=e.status?t.$Message.error("请求失败！"):e.text()}).then(function(e){e=e&&0<e.length?JSON.parse(e):[],t.data=e,t.loading=!1})},downLoad:function(){this.$refs.table.exportCsv({filename:"结算完成（责任主体）明细"})}}},n=(i("c989"),i("2877")),r=Object(n.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{attrs:{"label-width":100}},[i("Row",[t.switchTime?t._e():i("Col",{attrs:{span:"6"}},[i("FormItem",{attrs:{label:"年份："}},[i("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"year",placeholder:"请选择年份",editable:!1,clearable:!1},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),t.switchTime?i("Col",{attrs:{span:"4"}},[i("FormItem",{attrs:{label:"月份："}},[i("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"month",placeholder:"起始月份",editable:!1,clearable:!1},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)],1):t._e(),t.switchTime?i("Col",{attrs:{span:"4"}},[i("FormItem",[i("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"month",placeholder:"终止月份",editable:!1,clearable:!1},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1):t._e(),i("Col",{attrs:{span:"3"}},[i("FormItem",[i("i-switch",{on:{"on-change":t.changeSwitch},model:{value:t.switchTime,callback:function(e){t.switchTime=e},expression:"switchTime"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("年")]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("月")])])],1)],1),i("Col",{attrs:{span:"5"}},[i("FormItem",{staticStyle:{width:"180px"},attrs:{label:"责任单位："}},[i("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择责任单位"},model:{value:t.zrbm,callback:function(e){t.zrbm=e},expression:"zrbm"}},[i("Option",{attrs:{value:""}},[t._v("全部")]),i("Option",{attrs:{value:"热板公司"}},[t._v("热板公司")]),i("Option",{attrs:{value:"冷板公司"}},[t._v("冷板公司")]),i("Option",{attrs:{value:"宽厚板公司"}},[t._v("宽厚板公司")]),i("Option",{attrs:{value:"棒线公司"}},[t._v("棒线公司")]),i("Option",{attrs:{value:"型材公司"}},[t._v("型材公司")]),i("Option",{attrs:{value:"唐钢分公司"}},[t._v("唐钢分公司")]),i("Option",{attrs:{value:"邯钢分公司"}},[t._v("邯钢分公司")]),i("Option",{attrs:{value:"宣钢分公司"}},[t._v("宣钢分公司")]),i("Option",{attrs:{value:"承钢分公司"}},[t._v("承钢分公司")]),i("Option",{attrs:{value:"舞钢分公司"}},[t._v("舞钢分公司")]),i("Option",{attrs:{value:"石钢分公司"}},[t._v("石钢分公司")]),i("Option",{attrs:{value:"衡板分公司"}},[t._v("衡板分公司")])],1)],1)],1),i("Col",{attrs:{span:"4"}},[i("Button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"ios-search",type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),i("Button",{attrs:{icon:"ios-cloud-download-outline"},on:{click:function(e){return t.downLoad()}}},[t._v("导出")])],1)],1)],1),i("Table",{ref:"table",attrs:{loading:t.loading,columns:t.columns,data:t.data,border:"",height:"550"}})],1)},[],!1,null,"dbd4bae2",null);e.default=r.exports},c989:function(t,e,i){"use strict";var a=i("8a88");i.n(a).a}}]);